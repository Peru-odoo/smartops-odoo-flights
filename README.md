# Flights Odoo modules

Manage flight related records (private, operator or airline) in Odoo.

Initial models were generated by AI under the following query.

# Modules UI

flight (base module)

flight.flight Base List View
Flight Date | Aircraft | Departure Aerodrome | Departure Time UTC (if event exists or -) | Arrival Aerodrome | Arrival Time UTC (display +1 in the end if next day) | Total time | Flight time

Notes:
- Aircraft is aircraft registration
- Flight date is either the date of "off blocks" (departure) event or flight date if no event exits
- Departure time is '-' if no departure event exists
- Arrival time should be '-' if no arrival event exists (on blocks) and have '+1' appended in the end if the flight arrived next day
- total time should be calculated difference between on blocks and off blocks event
- flight time should be calculated difference between landing and takeoff events


flight_pilotlog (individual pilot logbook records extension)

flight.flight extended list view when a pilot is selected, some extra fields some are hidden, different order:

flight date | departure (place, time) | arrival (place, time) | aircraft (model code, registration) | single pilot time (SE, ME) | multi-pilot time | total time | name PIC | # takeoffs (day, night)  | # landings (day, night) | Operational conditions (night, ifr) | Pilot fucntion time (PIC, CO-PILOT, DUAl, instrucor)  | renarkts

# ChatGPT

Ok, my magic assistant. We need to make draft source code to describe models for two Odoo Modules. Module `flights` is a base module and `flights_pilot` is a second module that extends features of the base module.

Idea of the module is to make an open source solution to manage different type of flight records about private aircraft flight, airline flight and operator center.

Use black style formatting for the python files.

The models scheme is below.

MODULE 1. `flights`

```

`flight.airport`
     code = fields.Char()
     partner_id = fields.Char("Address")

`flight.aircraft`
     registration = fields.Char("Registration number")

`flight.number`
     airline_id = fields.Many2one('flight.airline')
     prefix = fields.Char()
     numbers = fields.Char()

`flight.airline`
     name = fields.Char()
     default_prefix = fields.Char(help="Default prefix assigned on creating a new flight.number for this airline")


`flight.crew`
     partner_id = fields.Many2one('res.partner')
     role_id = fields.Many2one(`flight.crew.role`)

`flight.crew.role`
     code = fields.Char()
     description = fields.Char()


`flight.flight`
     aircraft_id = 'flight.aircraft`
     flight_number_id = fields.Many2one('flight.number')
     crew_ids = fields.One2many('flight.crew')

     departure_id = fields.Many2one('flight.airport')
     event_ids = fields.One2many('flight.event')
     arrival_id = fields.Many2one('flight.airport')

`flight.event`
     event_type = fields.Many2one(`flight.event.type`)
     actual_date = fields.Datetime()
     estimated_date = fields.Datetime()
     scheduled_date = fields.Datetime()
     target_date = fields.Datetime()

`flight.event.type`
     code = fields.Char()
     description = fields.Char()

```

MODULE 2. `flights_pilotlog` â€” tool to extract and analyse records from legacy pilot log files.

```

Extended models:

`flight.aircraft`
    make_id = fields.Many2one("flight.aircraft.make")
    model_id = fields.Many2one("flight.aircraft.model")

`flight.flight`
    period_ids = fields.One2many("flight.period")


Additional models:

`flight.aircraft.make`
    name = fields.Char()

`flight.aircraft.model`
    name = fields.Char()

`flight.period`
    period_type_id = fields.Many2one('flight.period.type')
    duration = fields.Integer(help="Duration in minutes")
    # TODO: check if we need more fields here

`flight.period.type`
    code = fields.Char()

```
